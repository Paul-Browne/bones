/*! imageCover | fullScreen | typeScale | middlize | ResImg | colymn | Paul Browne | GNU License | 2015 */
!function(){function a(a,b){var c=[window.innerWidth];return window.addEventListener("resize",function(){var d=window.innerWidth,e=c.length;c.push(d),c[e]!==c[e-1]&&(clearTimeout(b),b=setTimeout(a,200))}),a}helperize=function(){var a=window.innerWidth,b=document.getElementsByTagName("body")[0].style,c=document.querySelectorAll(".fullscreen,.fullheight"),d=document.querySelectorAll(".middlize,.vmid"),e=document.querySelectorAll(".icovr");b.fontSize=a/600+15+"px",b.lineHeight=a/8e3+1.4;for(var f=0;f<c.length;f++)c[f].style.minHeight=window.innerHeight+"px";for(var g=0;g<d.length;g++)d[g].style.top=(d[g].parentNode.offsetHeight-d[g].offsetHeight)/2+"px",d[g].parentNode.style.position="relative";for(var h=0;h<e.length;h++){if(!document.querySelectorAll(".icovr-cont").length){var i=document.createElement("div");i.className="icovr-cont",e[h].parentNode.insertBefore(i,e[h]).appendChild(e[h])}var j=e[h].parentNode.offsetWidth,k=e[h].parentNode.offsetHeight,l=j/k,m=e[h].naturalWidth,n=e[h].naturalHeight,o=m/n,p=e[h].style;l>=o&&(p.width="100%",p.height="auto",p.top=(k-n/(m/j))/2+"px",p.left=0),o>l&&(p.width="auto",p.height="100%",p.top=0,p.left=(j-m/(n/k))/2+"px")}},ResImg=function(){var a=document.getElementsByTagName("img");if(0!==a.length)for(var b=function(a,b){return a.hasAttribute(b)},c=window.devicePixelRatio?window.devicePixelRatio:1,d=0;d<a.length;d++){var e=a[d],f=c*e.parentNode.offsetWidth,g="data-src",h=c&&b(e,"data-src-base2x")?"data-src-base2x":"data-src-base";if(b(e,g)){for(var i=b(e,h)?e.getAttribute(h):"",j=e.getAttribute(g),k=j.split(","),l=0;l<k.length;l++){var p,q,m=k[l].replace(":","||").split("||"),n=m[0],o=m[1];if(-1!==n.indexOf("<"))if(p=n.split("<"),k[l-1]){var r=k[l-1].split(/:(.+)/),s=r[0].split("<");q=f<=p[1]&&f>s[1]}else q=f<=p[1];else if(p=n.split(">"),k[l+1]){var t=k[l+1].split(/:(.+)/),u=t[0].split(">");q=f>=p[1]&&f<u[1]}else q=f>=p[1];if(q){var w,v=-1!==o.indexOf("//")?1:0;w=1===v?o:i+o,e.src!==w&&e.setAttribute("src",w);break}}e.addEventListener("load",helperize)}}},colymn=function(){function m(a,b){return RegExp(a+"-"+b+"-\\d+-\\d+","g")}function n(a){return a.test(u[v].className)}function o(a){return u[v].className.match(a).toString().match(/\d+/g)}function p(a){var b=o(a),c=b[0]/b[1]*(100+e-e*b[1])+e*b[0]-e,d=parseFloat(u[v].parentNode.style.width),f=100/d*-(c+e)+"%";return f}function q(a){var b=o(a),c=100*b[0]/b[1]-(b[1]-b[0])*e/b[1]+"%";return c}function r(a){for(;"svg"!==a.nodeName&&(a=a.parentNode)&&"svg"!==a.nodeName;);return!!a}for(var a=window.innerWidth,b=window.innerHeight,c=document.querySelectorAll("*"),d=document.querySelectorAll(".colymn-clearfix"),e=4,f=300,g=300,h=440,i=640,j=1024,k=1440,l=0;l<d.length;l++)d[l].parentNode.removeChild(d[l]);for(var s=0,t=0;t<c.length;t++)if(!r(c[t]))for(var u=c[t].children,v=0;v<u.length;++v){var w=u[v].style,x="xx";a>f&&b>a&&n(m("pp","c\\w+"))&&(x="pp"),a>g&&a>b&&n(m("pl","c\\w+"))&&(x="pl"),a>h&&b>a&&n(m("tp","c\\w+"))&&(x="tp"),a>i&&a>b&&n(m("tl","c\\w+"))&&(x="tl"),a>j&&n(m("dt","c\\w+"))&&(x="dt"),a>=k&&n(m("hd","c\\w+"))&&(x="hd");var y=m(x,"left"),z=m(x,"right"),A=m(x,"(col|offset)"),B=m(x,"(left|right)"),C=m(x,"center"),D=m(x,"col"),E=m(x,"(col|center)");if(n(E)&&(w.position="relative",w.display="block",w.marginRight=0,w.marginLeft=0,w["float"]="none",w.width="100%"),n(C)&&(w.width=q(C),w["float"]="none",w.marginRight="auto",w.marginLeft="auto"),n(D)){if(w.width=q(D),w["float"]="left",w.marginLeft=e+"%","0"===o(D)[0]&&(w.display="none"),!n(B)){var F=o(A);if(F[2]||(F[2]=0,F[3]=1),.01>=s&&(w.marginLeft=0),F[2]){var G=F[2]/F[3]*(100+e-e*F[3])+e*F[2];w.marginLeft=G+e+"%",.01>=s&&(w.marginLeft=G+"%")}if(s+=F[0]/F[1]+F[2]/F[3],s>=.99){s-=1;var H=document.createElement("div");H.style.clear="both",H.className="colymn-clearfix",u[v].parentNode.insertBefore(H,u[v].nextSibling)}}n(y)&&(w.marginRight=e+"%",w.marginLeft=p(y)),n(z)&&(w["float"]="right",w.marginLeft=e+"%",w.marginRight=p(z))}}helperize(),ResImg()},a(function(){colymn()})}();
